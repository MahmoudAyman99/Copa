<section class="position-relative overflow-hidden">
    <div class="profile-background-layer"></div>
     @if (editMode == 'none') {
        <i class="fa-solid fa-circle-left back fs-1" (click)="goBack()"></i>
     }
    <div class="container py-5 position-relative">
           <h1 class="fs-1 light-color text-center fw-bold  py-5" style="text-shadow: 2px 2px 4px rgba(0, 255, 136, 0.384);">Copa</h1>
        @if (editMode == 'none') {
            <div class="profile reveal-right position-relative">
                <div class="dropdown">
  <a class="btn y fs-2 "  role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="fa-solid fa-bars"></i>
  </a>

  <ul class="dropdown-menu">
    <li><a class="p-2 fw-bolder link" (click)="setEditMode('password')">Update Password</a></li>
    @if (!managerHasClub && isManager) {
        <li><a class="p-2 fw-bolder link" routerLink="/clubForm" >Add your club</a></li>
    }
    <li *ngIf="isPlayer"><a class="p-2 fw-bolder link" (click)="setEditMode('playerData')" >Update Your data as Player</a></li>
  </ul>
</div>
            <div class="row p-5 g-4 g-md-3">
            <div class="col-md-5 d-flex justify-content-center align-items-center">
                <div class=" h-100 user-img">
                    <img [src]="userData?.profilePictureUrl" [alt]="userData?.firstname" class="user-photo rounded-circle cursor-pointer" data-bs-toggle="modal" data-bs-target="#imageModel"(click)="openImageModal(userData.profilePictureUrl)">
                    <i class="fa-solid fa-camera img-icon  cursor-pointer" (click)="setEditMode('picture')"></i>
                </div>

            </div>
            <div class="col-md-7 ms-auto">
                    <div class="text-left row light-color py-4">
                        <div class="col-md-8 position-relative p-2">
                    <span class="fs-1 mb-2">{{userData?.firstname}} {{userData?.lastname}} <i class="fa-solid fa-pen-to-square fs-6 cursor-pointer edit " (click)="setEditMode('name')"></i></span>
                    
                        </div>
                        <div class="col-12">
                            <span class="fs-5 mb-2 userName">{{userData?.username}}</span>
                    
                        </div>
                        <div class="col-12">
                            
                    <span class="fs-4 mb-2 joined">Joined : {{userData?.joinedUsOn}}</span>
                        </div>
                </div>
            </div>
            <div class="col-md-6 p-2" *ngIf="isPlayer">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="light-color fs-3">{{playerData?.nickName}}</span>
                </div>
            </div>
            <div class="col-md-6 p-2" *ngIf="isPlayer">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="light-color fs-3">{{playerData?.position}}</span>
                </div>
            </div>
            <div class="col-md-6 p-2">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column">
                    <span class="header fs-4">Age</span>
                    <span class="light-color fs-4">{{userData?.age}}</span>
                </div>
            </div>
            <div class="col-md-6 p-2">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column">
                    <span class="header fs-4">Email</span>
                    <span class="light-color fs-4">{{userData?.email}}</span>
                </div>
            </div>
            <div class="col-md-6 p-2">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="header fs-4">phone Number</span>
                    <span class="light-color fs-4">{{userData?.phoneNumber}}</span>
                    <i class="fa-solid fa-pen-to-square  cursor-pointer light-color edit"  (click)="setEditMode('phone')" ></i>
                </div>
            </div>
            <div class="col-md-6 p-2">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="header fs-4">Address</span>
                    <span class="light-color fs-4">{{userData?.address}}</span>
                    <i class="fa-solid fa-pen-to-square  cursor-pointer light-color edit" (click)="setEditMode('address')" ></i>
                </div>
            </div>
            <div class="col-md-6 p-2">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="header fs-4">Date of Birth</span>
                    <span class="light-color fs-4">{{userData?.dateOfBirth}}</span>
                </div>
            </div>
            
            <div class="col-md-6 p-2" *ngIf="isPlayer">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="header fs-4">preef About</span>
                    <span class="light-color fs-6">{{playerData?.preefAbout}}</span>
                </div>
            </div>
            <div class="col-md-6 p-2" *ngIf="isPlayer">
                <div class="user-content rounded-3 px-4 py-3 d-flex flex-column position-relative">
                    <span class="header fs-4">Story About</span>
                    <span class="light-color fs-6">{{playerData?.storyAbout}}</span>
                </div>
            </div>
            <div class="col-md-8 mx-auto p-2" *ngIf="isPlayer">
                <div class="user-content rounded-3 px-4 py-3  position-relative">
                    <img [src]="playerData?.pictureUrl" [alt]="userData?.firstname" class="w-100 cursor-pointer" data-bs-toggle="modal" data-bs-target="#imageModel"(click)="openImageModal(playerData.pictureUrl)">
                    <i class="fa-solid fa-pen-to-square fs-5  cursor-pointer light-color edit" (click)="setEditMode('playerPicture')" ></i>
                </div>
            </div>

            <div class="col-md-12 p-2" *ngIf="isPlayer">
                <div class="user-content rounded-3 px-4 py-3 position-relative">
                    <h2 class="py-3 text-center light-color">Your Video</h2>
                <div>
                    <iframe   allowfullscreen allow=" encrypted-media"[src]="playerData?.safeVideoUrl"class="w-100"height="500px"></iframe>
                </div>
                <i class="fa-solid fa-pen-to-square fs-5  cursor-pointer light-color edit" (click)="setEditMode('playerVideo')" ></i>
                </div>
            </div>
        </div>
        </div>
        }
        
            <app-update-picture *ngIf="editMode == 'picture'" (done)="clearEditMode()" ></app-update-picture>
        
            <app-update-password *ngIf="editMode == 'password'" (done)="clearEditMode()" ></app-update-password>
        
            <app-modify-address *ngIf="editMode == 'address'" (done)="clearEditMode()" ></app-modify-address>
        
            <app-update-phone *ngIf="editMode == 'phone'" (done)="clearEditMode()" ></app-update-phone>
        
            <app-update-name *ngIf="editMode == 'name'" (done)="clearEditMode()" ></app-update-name>
            
            <app-update-player-picture *ngIf="editMode == 'playerPicture'" (done)="clearEditMode()" ></app-update-player-picture>
            <app-update-player-video *ngIf="editMode == 'playerVideo'" (done)="clearEditMode()" ></app-update-player-video>
            <app-update-player-data *ngIf="editMode == 'playerData'" (done)="clearEditMode()" ></app-update-player-data>
        
    </div>
</section>



@if (imageUrl) {
  <app-image-model [imageUrl]="imageUrl"></app-image-model>
}

